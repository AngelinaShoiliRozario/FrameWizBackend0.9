<!doctype html>
<html lang="zxx">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Add Product</title>

    <!-- Bootstrap Min CSS -->
    <link rel="stylesheet" href="/assets/css/others/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/others/inventory.css">
    <!-- poppins font-family -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">

    <!-- Responsive CSS -->
    <!-- <link rel="stylesheet" href="assets/css/responsive.css"> -->
    <!-- <link rel="stylesheet" href="assets/css/custom_select2.css"> -->

    <!-- font aewsome version link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <!-- select2 css link -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag/dist/css/multi-select-tag.css">
        <link rel="stylesheet" href="/assets/css/others/custom-style.css">

</head>

<body>


    <!-- navbar start -->
    <nav class="d-flex justify-content-between align-items-center border text-primary bg-white p-2">
        <div>
            <div class="d-flex justify-content-between">
                <div class="d-flex justify-content-between align-items-center">
                    <!-- <i class="fa-brands  fa-phoenix-framework  fs-2 me-2"></i> -->
                    <svg class="me-2" width="39" height="40" viewBox="0 0 39 40" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <rect width="39" height="40" rx="6" fill="#2871FF" />
                        <path
                            d="M9.5 15.1C9.5 13.1398 9.5 12.1597 9.88148 11.411C10.217 10.7525 10.7525 10.217 11.411 9.88148C12.1597 9.5 13.1398 9.5 15.1 9.5H24.9C26.8602 9.5 27.8403 9.5 28.589 9.88148C29.2475 10.217 29.783 10.7525 30.1185 11.411C30.5 12.1597 30.5 13.1398 30.5 15.1V21.75C30.5 23.3808 30.5 24.1962 30.2336 24.8394C29.8783 25.697 29.197 26.3783 28.3394 26.7336C27.6962 27 26.8808 27 25.25 27C24.68 27 24.395 27 24.1306 27.0624C23.778 27.1456 23.4497 27.3098 23.1716 27.5419C22.963 27.716 22.792 27.944 22.45 28.4L20.7467 30.6711C20.4934 31.0089 20.3667 31.1777 20.2114 31.2381C20.0754 31.291 19.9246 31.291 19.7886 31.2381C19.6333 31.1777 19.5066 31.0089 19.2533 30.6711L17.55 28.4C17.208 27.944 17.037 27.716 16.8284 27.5419C16.5503 27.3098 16.222 27.1456 15.8694 27.0624C15.605 27 15.32 27 14.75 27C13.1192 27 12.3038 27 11.6606 26.7336C10.803 26.3783 10.1217 25.697 9.76642 24.8394C9.5 24.1962 9.5 23.3808 9.5 21.75V15.1Z"
                            stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M19.9968 15.719C19.0638 14.6585 17.5079 14.3733 16.3389 15.3444C15.1698 16.3155 15.0053 17.9391 15.9233 19.0876C16.4692 19.7706 17.8063 20.9953 18.8006 21.8759C19.211 22.2395 19.4162 22.4212 19.6633 22.4949C19.8746 22.558 20.119 22.558 20.3304 22.4949C20.5774 22.4212 20.7826 22.2395 21.193 21.8759C22.1873 20.9953 23.5244 19.7706 24.0703 19.0876C24.9884 17.9391 24.8439 16.3052 23.6547 15.3444C22.4656 14.3835 20.9298 14.6585 19.9968 15.719Z"
                            stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>


                </div>
                <div>
                    <span class="" style="font-size: 20px; font-weight: 600;">FrameWiz</span>
                    <div style="color: black;">www.domain.com</div>
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-center align-items-center" style="border: 1px solid transparent;">

            <div style="position: relative;">
                <input class="form-control" id="search-bar" type="text" placeholder="Search....."
                    style="text-align: left; padding-left: 35px; background: #F4FAFE;">

                <!-- <input id="search-bar" type="text" placeholder="Search..." style="background: #F4FAFE;"> -->

                <span style="position: absolute; top: 8px; left: 5px;">
                    <svg style="height: 15px; width: 20px;" width="21" height="20" viewBox="0 0 21 20" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M19.9939 19L16.4849 15.5M18.9913 9.5C18.9913 14.1944 15.1759 18 10.4693 18C5.7627 18 1.94727 14.1944 1.94727 9.5C1.94727 4.80558 5.7627 1 10.4693 1C15.1759 1 18.9913 4.80558 18.9913 9.5Z"
                            stroke="#5E6EFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>

                    <!-- <img src="assets/img/search.png" alt="" style="height: 20px; width: 30px;"> -->
                </span>



                <!-- <img class="text-blue" src="http://www.endlessicons.com/wp-content/uploads/2012/12/search-icon.png"> -->
            </div>

            <div class="width_list nav-item ms-lg-3 me-lg-3" style="background: #DBDBDB; height: 40px; width: 2px">
                <!-- <a class="nav-link" href="#"></a> -->
            </div>

            <div class="me-md-4 me-sm-4 ms-lg-2  ms-sm-0 ms-md-0 me-3">
                <div style="border-radius: 7px; border: 1px solid #DFDFDF; background: #DFDFDF;"
                    class="ps-2 pe-2  mt-1">
                    <span class="">
                        <!-- <i class="fa-brands fa-slack fa-fade me-2  text-dark"
                        style="border-radius: 50%; padding: 0px;"></i> -->

                        <svg class="me-1 fa-fade bg-white"
                            style="border-radius: 40%; font-size: 15px!important; height:20px; width: 20px; " width="11"
                            height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M5.60234 0.361328V1.29827M5.60234 8.79376V9.7307M1.84488 5.04601H0.905518M2.93178 2.38236L2.26755 1.71984M8.2729 2.38236L8.93713 1.71984M2.93178 7.7116L2.26755 8.37411M8.2729 7.7116L8.93713 8.37411M10.2992 5.04601H9.3598M7.95075 5.04601C7.95075 6.33965 6.89933 7.38836 5.60234 7.38836C4.30535 7.38836 3.25393 6.33965 3.25393 5.04601C3.25393 3.75237 4.30535 2.70367 5.60234 2.70367C6.89933 2.70367 7.95075 3.75237 7.95075 5.04601Z"
                                stroke="#2871FF" stroke-width="0.7" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>

                    </span>
                    <span class="text-primary">Light</span>

                </div>
            </div>


            <div class="text-dark">


                <svg class="me-3" width="22" height="24" viewBox="0 0 22 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M14.2725 19.7C14.2725 21.5225 12.7912 23 10.9639 23C9.13669 23 7.6554 21.5225 7.6554 19.7M12.9452 5.66241C13.4255 5.16751 13.7211 4.49318 13.7211 3.75C13.7211 2.23122 12.4867 1 10.9639 1C9.44123 1 8.20682 2.23122 8.20682 3.75C8.20682 4.49318 8.50239 5.16751 8.98267 5.66241M17.581 11.12C17.581 9.60296 16.8839 8.14806 15.6429 7.07535C14.402 6.00264 12.7189 5.4 10.9639 5.4C9.20898 5.4 7.5259 6.00264 6.28495 7.07535C5.04401 8.14806 4.34685 9.60296 4.34685 11.12C4.34685 13.63 3.72278 15.4656 2.9441 16.7791C2.0566 18.2762 1.61286 19.0247 1.63038 19.2035C1.65043 19.4081 1.68735 19.4726 1.85368 19.5939C1.99907 19.7 2.72953 19.7 4.19045 19.7H17.7374C19.1984 19.7 19.9288 19.7 20.0742 19.5939C20.2406 19.4726 20.2775 19.4081 20.2975 19.2035C20.315 19.0247 19.8713 18.2762 18.9838 16.7791C18.2051 15.4656 17.581 13.63 17.581 11.12Z"
                        stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>

                <!-- <i class="fa-regular fa-bell me-3" style="font-size: 25px;"></i> -->
            </div>

            <div class="text-dark">

                <svg class="me-3" width="26" height="24" viewBox="0 0 26 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M3.55091 13.7929L5.36785 21.0418C5.41895 21.2457 5.4445 21.3477 5.47472 21.4367C5.77 22.3062 6.55504 22.9175 7.47237 22.9923C7.56627 23 7.67161 23 7.8823 23C8.14613 23 8.27805 23 8.38918 22.9893C9.48757 22.883 10.3568 22.016 10.4634 20.9204C10.4741 20.8096 10.4741 20.678 10.4741 20.4149V4.01031M20.2821 13.2174C22.5125 13.2174 24.3206 11.414 24.3206 9.18932C24.3206 6.96465 22.5125 5.1612 20.2821 5.1612M10.7626 4.01031H6.43559C3.56789 4.01031 1.24316 6.32903 1.24316 9.18932C1.24317 12.0496 3.56789 14.3683 6.43559 14.3683H10.7626C12.8008 14.3683 15.2941 15.4581 17.2177 16.504C18.3399 17.1141 18.901 17.4192 19.2685 17.3743C19.6092 17.3327 19.8669 17.1801 20.0666 16.9016C20.2821 16.6012 20.2821 16.0003 20.2821 14.7984V3.5802C20.2821 2.37834 20.2821 1.77741 20.0666 1.47707C19.8669 1.19857 19.6092 1.04596 19.2685 1.00433C18.901 0.959438 18.3399 1.26451 17.2177 1.87466C15.2941 2.92054 12.8008 4.01031 10.7626 4.01031Z"
                        stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>

            </div>

            <div class="width_list ms-lg-3 me-lg-3" style="background: #DBDBDB; height: 40px; width: 2px">
                <!-- <a class="nav-link" href="#"></a> -->
            </div>


            <!-- <div class="text-white nav-item mt-3 ms-lg-3 me-lg-3"> -->
            <div style="border-radius: 25px; " class="bg-primary me-2 text-white ms-lg-3 me-lg-3">
                <span class="ms-3 me-3">John Dave</span>
                <span>
                    <img class="" style="border-radius: 50%; border: 0px solid white; height: 55px; width: 55px;"
                        src="assets/img/vege.png">

                </span>
            </div>

            <span class="dropdown me-2">
                <div class="dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                </div>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">mimi</a></li>
                    <li><a class="dropdown-item" href="#">mimi1</a></li>
                    <li><a class="dropdown-item" href="#">mimi2</a></li>
                </ul>
            </span>

            <!-- </div> -->


        </div>

    </nav>
    <!-- navbar end -->

    <div class="d-flex">

        <!-- left sidebar  start -->
        <%- include('../reuseable/left_sidebar', { user_id: user_id, template_id: template_id }) %>

            <!-- left sidebar  end -->


            <!-- right  part start -->
            <div class="p-4"
                style="border: 2px solid transparent; background: #EAEAEA; flex:1; height: 92vh!important; overflow-y: auto; overflow-x: hidden;">
                <% if (success_msg.length> 0){ %>
                    <div class="alert alert-success">
                        <%= success_msg %>
                    </div>
                    <% } %>
                        <div class="p-4" style="border-radius: 10px;  background: white; ">

                            <div class="d-flex justify-content-between mb-4">
                                <h4 class="fw-bold">Add Product</h4>
                                <div>
                                    <div>Pages/ Add Product</div>
                                </div>
                            </div>

                            <div style="background-color: white; margin: 0px;">

                                <!-- Start Main Content Area -->
                                <div class="main-content d-flex flex-column">

                                    <div style="background-color: white; ">

                                        <div class="page-title-area">
                                            <div class="container-fluid">
                                                <div class="row align-items-center">


                                                    <!-- <div class="col-lg-6 col-sm-6 text-end">
                            <span class="btn btn-primary"
                            onclick="make_duplicate_product('single_product','product_form')">Make
                            Duplicate</span>
                        </div>  -->
                                                </div>
                                            </div>
                                        </div>

                                        <form action="<%= `/inventory/${user_id}/${template_id}/post_product` %>"
                                            method="post" enctype="multipart/form-data" id="product_form">

                                            <div id="single_product">


                                                <div id="productInformation" class=""
                                                    style="background-color: white; border-radius: 6px; box-shadow: 0 0 20px 3px rgba(0,0,0,0.05);  padding:20px;box-shadow: 0 0 20px 3px rgba(0, 0, 0, 0.122);">
                                                    <div class="d-flex justify-content-between ">
                                                        <h3>Product Information</h3>
                                                        <span class="btn btn-primary"
                                                            onclick="make_duplicate_product('single_product','product_form')">Make
                                                            Duplicate</span>
                                                    </div>
                                                    <div class="col-12">
                                                        <b>*All Image size should be 300/300.</b>
                                                    </div>
                                                    <div class="row gap-3 mt-3">
                                                        <div class="col-md-12 col-lg-6 col-sm-12 ">

                                                            <div class="row h-100">

                                                                <div class="col-md-4 col-sm-12 col-lg-4">
                                                                    <div class="main-img-container"
                                                                        style="display: flex; align-items:center;flex-direction:column;justify-content:center;">

                                                                        <img class=""
                                                                            src="https://cdn.pixabay.com/photo/2017/11/10/05/24/add-2935429_960_720.png"
                                                                            alt=""
                                                                            style="width:100%;border-radius:5px;max-width: 300px;"
                                                                            id="main-img-preview">
                                                                        <label for="mainImg"
                                                                            class="btn btn-primary mt-3">Set
                                                                            Primary
                                                                            Image</label>
                                                                        <input type="file" for="mainImg" class="d-none"
                                                                            id="mainImg"
                                                                            onchange="main_image_changed(this,null)"
                                                                            name="primary_image">
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-8 col-sm-12 col-lg-8"
                                                                    id="secondary_img_container_parent"
                                                                    style="border:2px solid #C9D2D7; padding:10px; max-height:300px; overflow-y:auto;">
                                                                    <div class="secondary-img-container"
                                                                        id="secondary-img-container">

                                                                    </div>
                                                                    <div class="s-i-c-2">

                                                                        <label for="secondaryImg"
                                                                            class="btn btn-info"><i
                                                                                class="fa-solid fa-plus"></i></label>
                                                                        <input type="file" name="secondary_images"
                                                                            class="d-none" id="secondaryImg"
                                                                            onchange="secondary_image_changed(this,null)"
                                                                            multiple>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12 col-lg-6 col-sm-12 row ">
                                                            <div class="col-12 d-none">
                                                                <input type="text" id="varient_combinations"
                                                                    name="varient_combinations">
                                                            </div>

                                                            <div class="col-md-6" style="margin-bottom: 10px;">
                                                                <div class="form-group"
                                                                    style="background-color: white; border-radius: 5px; padding:10px">
                                                                    <label>Product Name</label>
                                                                    <input type="text" class="p-2 my-form-control"
                                                                        placeholder="Null" name="product_name"
                                                                        onkeypress="return event.keyCode != 13;">
                                                                </div>
                                                            </div>

                                                            <div class="col-md-6" style="margin-bottom: 10px;">
                                                                <div class="form-group  position-relative"
                                                                    style="background-color: white; border-radius: 5px; padding:10px">
                                                                    <label>Product
                                                                        Category</label>
                                                                    <div
                                                                        class=" position-relative single-contact-info productName">
                                                                        <input type="text" class="my-form-control p-2"
                                                                            placeholder="Null"
                                                                            onclick="showContentDropdown(1000, null)"
                                                                            autocomplete="off"
                                                                            id="contentsTitleInput_1000"
                                                                            name="product_category"
                                                                            onkeypress="return event.keyCode != 13;">
                                                                        <div class="content_dropdown-menu d-none w-100 border-0 dropdownMenu_ dropdownBox"
                                                                            id="dropdownMenu_1000"
                                                                            style="margin-left: 0px;box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);border:1px solid gray;">
                                                                            <% categories.forEach(function(category) {%>
                                                                                <div class="content_dropdown-item p-2"
                                                                                    onclick="selectOption(this, null)">
                                                                                    <%= category.name %>
                                                                                </div>

                                                                                <%}) %>
                                                                                    <!-- <div class="content_dropdown-item p-2"
                                                                            onclick="selectOption(this, null)">Category
                                                                            1</div>
                                                                        <div class="content_dropdown-item p-2"
                                                                            onclick="selectOption(this, null)">Category
                                                                            2</div>
                                                                        <div class="content_dropdown-item p-2"
                                                                            onclick="selectOption(this, null)">Category
                                                                            3</div>
                                                                        <div class="content_dropdown-item p-2"
                                                                            onclick="selectOption(this, null)">Category
                                                                            4</div> -->
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-6" style="margin-bottom: 10px;">
                                                                <div class="form-group "
                                                                    style="background-color: white; border-radius: 5px; padding:10px">
                                                                    <label>Buying Price</label>
                                                                    <input type="number" class="my-form-control p-2"
                                                                        placeholder="Null" name="buying_price"
                                                                        onkeypress="return event.keyCode != 13;">
                                                                </div>
                                                            </div>

                                                            <div class="col-md-6" style="margin-bottom: 10px;">
                                                                <div class="form-group "
                                                                    style="background-color: white; border-radius: 5px; padding:10px">
                                                                    <label>Selling Price</label>
                                                                    <input type="number" class="my-form-control p-2"
                                                                        placeholder="Null" name="selling_price"
                                                                        onkeypress="return event.keyCode != 13;">
                                                                </div>
                                                            </div>

                                                            <div class="col-md-6" style="margin-bottom: 10px;">
                                                                <div class="form-group "
                                                                    style="background-color: white; border-radius: 5px; padding:10px">
                                                                    <label>Discount</label>
                                                                    <input type="number" class="my-form-control p-2 "
                                                                        placeholder="Null" name="discount"
                                                                        onkeypress="return event.keyCode != 13;">
                                                                </div>
                                                            </div>

                                                            <div class="col-md-6" style="margin-bottom: 10px;">
                                                                <div class="form-group "
                                                                    style="background-color: white; border-radius: 5px; padding:10px">
                                                                    <label for="DiscountExpireDate">Discount Expire
                                                                        Date</label>
                                                                    <input type="date" class="my-form-control p-2 w-100"
                                                                        id="DiscountExpireDate" placeholder="Null"
                                                                        name="discount_expire_date" min="2023-10-22"
                                                                        onkeypress="return event.keyCode != 13;">
                                                                    <!-- <label>Date</label>
                                                        <input type="date" class="form-control" placeholder="Null"
                                                            name="product_name"
                                                            onkeypress="return event.keyCode != 13;">  -->
                                                                    <script>
                                                                        const currentDate = new Date();

                                                                        const minDate = currentDate.toISOString().slice(0, 10);

                                                                        document.getElementById("DiscountExpireDate").setAttribute("min", minDate);
                                                                    </script>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div id="ProductVariant" class="mt-4"
                                                    style="background-color: white; border-radius: 6px; box-shadow: 0 0 20px 3px rgba(0,0,0,0.05);  padding:20px;box-shadow: 0 0 20px 3px rgba(0, 0, 0, 0.122);">
                                                    <div class="d-flex justify-content-between ">
                                                        <h3>Product Variant</h3>
                                                    </div>

                                                    <div class="row " id="varient_container_">

                                                        <div class="col-lg-4 col-md-4 col-sm-12 colorVariantBox mt-3">
                                                            <div
                                                                style="background-color:white; border-radius:5px; padding:10px;">
                                                                <label
                                                                    class="varient_label inline-block d-flex justify-content-between align-items-center"
                                                                    for="colorVariant">Color <span
                                                                        onclick="this.parentNode.parentNode.parentNode.remove()"><i
                                                                            class="fa-solid fa-circle-xmark"
                                                                            style="font-size:20px;color:skyblue;border:1px solid skyblue;border-radius:50%;cursor:pointer;"></i></span></label>
                                                                <div class="position-relative">
                                                                    <ul class="colorInputUL" id="colorInputUL"
                                                                        style=" margin-bottom: 0px;"
                                                                        onclick="showColorDropDown(this)">
                                                                        <input type="text" class="tagIntpus"
                                                                            name="colorVariants" spellcheck="false"
                                                                            id="variantColor"
                                                                            placeholder="Write here for tag"
                                                                            onkeypress="return event.keyCode != 13;">
                                                                    </ul>
                                                                    <div class="dropdownBox d-none"
                                                                        id="colorDropdownBox"
                                                                        style="height: 200px; overflow-y: auto;">
                                                                        <ul>
                                                                            <li onclick="getValueFronDropDown(this)">Red
                                                                            </li>
                                                                            <li onclick="getValueFronDropDown(this)">
                                                                                Blue
                                                                            </li>
                                                                            <li onclick="getValueFronDropDown(this)">
                                                                                Black
                                                                            </li>
                                                                            <li onclick="getValueFronDropDown(this)">
                                                                                Pink
                                                                            </li>
                                                                            <li onclick="getValueFronDropDown(this)">
                                                                                Yellow
                                                                            </li>
                                                                            <li onclick="getValueFronDropDown(this)">
                                                                                White
                                                                            </li>
                                                                            <li onclick="getValueFronDropDown(this)">
                                                                                Brown
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="col-lg-4 col-sm-12 colorVariantBox mt-3">
                                                            <div
                                                                style="background-color:white; border-radius:5px; padding:10px;">
                                                                <label
                                                                    class="varient_label inline-block d-flex justify-content-between align-items-center"
                                                                    for="sizeVariant">Size
                                                                    <span
                                                                        onclick="this.parentNode.parentNode.parentNode.remove()"><i
                                                                            class="fa-solid fa-circle-xmark"
                                                                            style="font-size:20px;color:skyblue;border:1px solid skyblue;border-radius:50%;cursor:pointer;"></i></span>
                                                                </label>
                                                                <div class="position-relative">
                                                                    <ul class="colorInputUL" id="sizeInputUL"
                                                                        style="margin-bottom: 0px;"
                                                                        onclick="showColorDropDown(this)"><input
                                                                            type="text" class="tagIntpus"
                                                                            name="sizeVariants" spellcheck="false"
                                                                            id="sizeVariant"
                                                                            placeholder="Write here for tag"
                                                                            onkeypress="return event.keyCode != 13;">
                                                                    </ul>
                                                                    <div class="dropdownBox d-none" id="sizedropdownBox"
                                                                        style="height: 200px; overflow-y: auto;">
                                                                        <ul>
                                                                            <li onclick="getValueFronDropDown(this)">SM
                                                                            </li>
                                                                            <li onclick="getValueFronDropDown(this)">LG
                                                                            </li>
                                                                            <li onclick="getValueFronDropDown(this)">MD
                                                                            </li>
                                                                            <li onclick="getValueFronDropDown(this)">XL
                                                                            </li>
                                                                            <li onclick="getValueFronDropDown(this)">XXL
                                                                            </li>
                                                                            <li onclick="getValueFronDropDown(this)">35
                                                                            </li>
                                                                            <li onclick="getValueFronDropDown(this)">36
                                                                            </li>
                                                                            <li onclick="getValueFronDropDown(this)">38
                                                                            </li>
                                                                            <li onclick="getValueFronDropDown(this)">40
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="d-md-flex d-xl-flex d-sm-flex text-center justify-content-between align-items-center"
                                                        style="margin-top:20px">
                                                        <span class="addVarientSpan"
                                                            style="background-color:#2871FF;padding:8px 20px;border-radius:5px;color:white;cursor:pointer;"
                                                            data-bs-toggle="modal" data-bs-target="#addVarientModal">Add
                                                            Varient</span>
                                                        <div class="populateBtn delete-table-data mt-4 mt-sm-0"
                                                            style="">
                                                            <span onclick="mula(this, null)">Populate variant
                                                                table</span>
                                                        </div>
                                                    </div>


                                                    <div class="modal fade" id="addVarientModal" tabindex="-1"
                                                        aria-labelledby="addVarientLabel" aria-hidden="true">
                                                        <div class="modal-dialog modal-lg modal-dialog-centered">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h5 class="modal-title" id="addVarientLabel">Add
                                                                        Varient
                                                                    </h5>
                                                                    <button type="button" class="btn-close"
                                                                        data-bs-dismiss="modal"
                                                                        aria-label="Close"></button>
                                                                </div>
                                                                <div class="modal-body" style="padding: 100px;">
                                                                    <div class="row">
                                                                        <div class="col-12">
                                                                            <div class="form-group">
                                                                                <label>Varient Name</label>
                                                                                <input type="text"
                                                                                    class="form-control-custom"
                                                                                    id="modal_varient_name"
                                                                                    style="padding: 10px 20px;">
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-12 pt-5 colorVariantBox">
                                                                            <label class="varient_label"
                                                                                for="creaateVariant">Varient
                                                                                Attributes</label>
                                                                            <div class="position-relative">
                                                                                <ul class="colorInputUL"
                                                                                    id="addNewVarient"
                                                                                    style=" margin-bottom: 0px;"
                                                                                    onclick="showVarientBox(this)">
                                                                                    <input class="tagIntpus" type="text"
                                                                                        name="colorVariants"
                                                                                        spellcheck="false"
                                                                                        id="makeVariant"
                                                                                        placeholder="Write here for tag"
                                                                                        onkeypress="return event.keyCode != 13;">
                                                                                </ul>
                                                                                <div>
                                                                                    <ul>

                                                                                    </ul>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <button type="button" class="btn btn-secondary"
                                                                        data-bs-dismiss="modal">Close</button>
                                                                    <button type="button" class="btn btn-primary"
                                                                        onclick="save_varient(this, null)">Save
                                                                        Varient</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>


                                                </div>

                                                <div class="newVariantTable mt-4"
                                                    style="background-color: white; border-radius: 6px; box-shadow: 0 0 20px 3px rgba(0,0,0,0.05);  padding:20px">
                                                    <div class="d-flex justify-content-between ">
                                                        <h3>Product Variant</h3>
                                                    </div>
                                                    <p>Please Provide all information correctly to manage your products
                                                        with
                                                        our inventory service.
                                                    </p>
                                                    <div class="table-responsive h-auto" data-simplebar>
                                                        <table style="table-layout: fixed;width:100%;">
                                                            <thead class="tableHead" id="tableHead" style="">
                                                                <tr style="height: 60px;" id="tableHeadTr">
                                                                    <th class="varient_table_label"
                                                                        style="border-top-left-radius: 10px">----</th>
                                                                    <th class="varient_table_label">----</th>
                                                                    <th>Qunatity</th>
                                                                    <th style="border-top-right-radius: 10px">Actions
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="product_table">
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>

                                                <div id="table_content_container"
                                                    class="newVariantTable TableOfContents  mt-4"
                                                    style="background-color: white; border-radius: 6px; box-shadow: 0 0 20px 3px rgba(0,0,0,0.05);  padding:20px">
                                                    <div class="d-flex justify-content-between ">
                                                        <h3>Table of contents for your product</h3>
                                                    </div>
                                                    <div class="row mt-3">
                                                        <div class="col-md-6 col-xl-6 col-sm-12 ro">
                                                            <div class="form-group"
                                                                style="background-color: white; border-radius: 5px; padding:20px">
                                                                <label>Product Description</label>
                                                                <textarea name="product_description"
                                                                    class="form-control-custom" cols="40"
                                                                    rows="7"></textarea>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6 col-xl-6 col-sm-12 mt-sm-3 mt-md-0 mt-3">
                                                            <div class="form-group"
                                                                style="background-color: white; border-radius :5px; padding:20px">
                                                                <label>Additional Information</label>
                                                                <textarea name="product_additional_information"
                                                                    class="form-control-custom" cols="40"
                                                                    rows="7"></textarea>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="d-none row " id="table_content_dropdown_">
                                                        <div
                                                            class=" col-lg-5 com-md-5 col-sm-12 mt-sm-3  position-relative  productName">
                                                            <div class="form-group"
                                                                style="background-color: white; border-radius:5px; padding:20px;">
                                                                <label style="margin-bottom: 0px;">Attribute
                                                                    Title</label>
                                                                <div class=" position-relative  productName ">
                                                                    <input type="text"
                                                                        class="form-control-custom form-control-product border-0"
                                                                        placeholder="Title"
                                                                        onclick="showContentDropdown(1, null)"
                                                                        autocomplete="off" id="contentsTitleInput_"
                                                                        style="font-size: 16px;"
                                                                        name="attributes_title[]">
                                                                    <div class="content_dropdown-menu d-none w-100 border-0 dropdownMenu_ dropdownBox"
                                                                        id="dropdownMenu_"
                                                                        style="margin-left: 0px;box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);border:1px solid gray; height:200px;overflow-y:auto">
                                                                        <div class="content_dropdown-item p-2"
                                                                            onclick="selectOption(this, null)">Brand
                                                                        </div>
                                                                        <div class="content_dropdown-item p-2"
                                                                            onclick="selectOption(this, null)">Product
                                                                            Type
                                                                        </div>
                                                                        <div class="content_dropdown-item p-2"
                                                                            onclick="selectOption(this, null)">Fabric
                                                                        </div>
                                                                        <div class="content_dropdown-item p-2"
                                                                            onclick="selectOption(this, null)">Apparel
                                                                            Type
                                                                        </div>
                                                                        <div class="content_dropdown-item p-2"
                                                                            onclick="selectOption(this, null)">Gender
                                                                        </div>
                                                                        <div class="content_dropdown-item p-2"
                                                                            onclick="selectOption(this, null)">Style
                                                                        </div>
                                                                        <div class="content_dropdown-item p-2"
                                                                            onclick="selectOption(this, null)">Model
                                                                        </div>
                                                                        <div class="content_dropdown-item p-2"
                                                                            onclick="selectOption(this, null)">Size
                                                                            measurement
                                                                        </div>
                                                                        <div class="content_dropdown-item p-2"
                                                                            onclick="selectOption(this, null)">Colour
                                                                        </div>

                                                                        <!-- Add more options as needed -->
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div
                                                            class="col-lg-5 com-md-5 col-sm-10 mt-sm-3 single-contact-info productName">
                                                            <div class="form-group"
                                                                style="background-color: white; border-radius:5px; padding:20px;">
                                                                <label>Product Value</label>
                                                                <input type="text" class="form-control-custom"
                                                                    style=" font-size: 16px;border: none;"
                                                                    name="attribute_value[]">
                                                            </div>

                                                        </div>

                                                        <div
                                                            class="col-lg-2 com-md-2 col-sm-2 mt-sm-3 table_content-delete d-flex align-items-center">
                                                            <div class="delete-content-icon"
                                                                style="border-radius:5px; padding:10px 20px;"
                                                                onclick="deleteTableContent(this, null)">
                                                                <span style="color: red">
                                                                    <i class="fa-solid fa-trash-can"></i>
                                                                </span>
                                                            </div>
                                                        </div>

                                                    </div>


                                                    <div id="table_content_dropdown_box">
                                                        <div class="row " id="table_content_dropdown_0">
                                                            <div
                                                                class=" col-md-5 col-lg-5 col-sm-12 mt-sm-3 position-relative  productName">
                                                                <div class="form-group"
                                                                    style="background-color: white; border-radius:5px; padding:20px;">
                                                                    <label>Attribute Title</label>
                                                                    <div class=" position-relative productName">
                                                                        <input type="text"
                                                                            class="form-control-custom form-control-product border-0 "
                                                                            placeholder="Title"
                                                                            onclick="showContentDropdown(0, null)"
                                                                            autocomplete="off" id="contentsTitleInput_0"
                                                                            name="attributes_title[]"
                                                                            style="font-size: 16px;">
                                                                        <div class="content_dropdown-menu border-0 d-none w-100 dropdownMenu_ dropdownBox"
                                                                            id="dropdownMenu_0"
                                                                            style="margin-left: 0px; box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);border:1px solid gray; height:200px;overflow-y:auto">
                                                                            <div class="content_dropdown-item p-2"
                                                                                onclick="selectOption(this, null)">Brand
                                                                            </div>
                                                                            <div class="content_dropdown-item p-2"
                                                                                onclick="selectOption(this, null)">
                                                                                Product
                                                                                Type
                                                                            </div>
                                                                            <div class="content_dropdown-item p-2"
                                                                                onclick="selectOption(this, null)">
                                                                                Fabric
                                                                            </div>
                                                                            <div class="content_dropdown-item p-2"
                                                                                onclick="selectOption(this, null)">
                                                                                Apparel
                                                                                Type
                                                                            </div>
                                                                            <div class="content_dropdown-item p-2"
                                                                                onclick="selectOption(this, null)">
                                                                                Gender
                                                                            </div>
                                                                            <div class="content_dropdown-item p-2"
                                                                                onclick="selectOption(this, null)">Style
                                                                            </div>
                                                                            <div class="content_dropdown-item p-2"
                                                                                onclick="selectOption(this, null)">Model
                                                                            </div>
                                                                            <div class="content_dropdown-item p-2"
                                                                                onclick="selectOption(this, null)">Size
                                                                                measurement
                                                                            </div>
                                                                            <div class="content_dropdown-item p-2"
                                                                                onclick="selectOption(this, null)">
                                                                                Colour
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="col-md-5 col-lg-5 col-sm-10 mt-sm-3  productName">
                                                                <div class="form-group"
                                                                    style="background-color: white; border-radius:5px; padding:20px;">
                                                                    <label>Product Value</label>
                                                                    <input type="text" class="form-control-custom"
                                                                        style=" font-size: 16px;border: none;"
                                                                        name="attribute_value[]">
                                                                </div>

                                                            </div>

                                                            <div
                                                                class="col-md-2 col-lg-2 col-sm-2 mt-sm-3  table_content-Add d-flex align-items-center">
                                                                <div class="add-content-icon"
                                                                    style="border-radius:5px; padding:10px 20px;"
                                                                    onclick="table_content_dropdown_add(this, null)">
                                                                    <span><i class="fa-solid fa-plus"></i></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div
                                                    style="display: flex; justify-content: center; align-items:center; padding:4em">
                                                    <button type="submit" class="btn btn-primary me-3 border-0"
                                                        style="background-color:#2871FF; padding: 10px 3em; font-weight: 600;">
                                                        Upload
                                                    </button>

                                                    <button class="btn btn-primary border-0"
                                                        style="background-color: #6F7D87; padding: 10px 3em; font-weight: 600;">
                                                        Cancel
                                                    </button>
                                                </div>


                                            </div>
                                        </form>

                                    </div>

                                </div>
                                <!-- End Main Content Area -->

                            </div>

                        </div>

                        <!-- Start Go Top Area -->
                        <div class="go-top">
                            <i class="ri-arrow-up-s-fill"></i>
                            <i class="ri-arrow-up-s-fill"></i>
                        </div>
                        <!-- End Go Top Area -->


            </div>

            <script>
                let productCount = 0;
                const make_duplicate_product = (copy_block, parent_block) => {
                    productCount = productCount + 1;
                    // let copy_product = tag.parentNode.parentNode.parentNode.cloneNode(true);
                    console.log("document.getElementById(copy_block)====", copy_block);
                    let aProduct = document.getElementById(copy_block);
                    let copy_product = '';
                    if (aProduct) {
                        copy_product = aProduct.cloneNode(true);
                    } else {
                        copy_product = copy_block.cloneNode(true)
                    }
                    copy_product.style.borderTop = '1px solid tomato';


                    // Main input clear function 
                    let colorInputUL = document.querySelectorAll(".colorInputUL");
                    for (let i = 0; i < colorInputUL.length; i++) {
                        if (colorInputUL[i].querySelectorAll('li')) {
                            colorInputUL[i].querySelectorAll('li').forEach(li => {
                                li.remove();
                            });
                        }
                    }

                    // Duplicate input clear function 
                    let colorInputUL_2 = copy_product.querySelectorAll('.colorInputUL');
                    for (let i = 0; i < colorInputUL_2.length; i++) {
                        if (colorInputUL_2[i].querySelectorAll('li')) {
                            colorInputUL_2[i].querySelectorAll('li').forEach(li => {
                                li.remove();
                            });
                        }
                    }


                    // Main dropdownBox ul disable style remove function 
                    let allDropdownBox = document.querySelectorAll('.dropdownBox ul');
                    for (let i = 0; i < allDropdownBox.length; i++) {
                        if (allDropdownBox[i].querySelectorAll('li')) {
                            allDropdownBox[i].querySelectorAll('li').forEach(li => {
                                if (li.hasAttribute('style')) {
                                    li.removeAttribute('style');
                                }
                            });
                        }
                    }
                    // Duplicate dropdownBox ul disable style remove function 
                    let allDropdownBox_2 = copy_product.querySelectorAll('.dropdownBox ul');
                    for (let i = 0; i < allDropdownBox_2.length; i++) {
                        if (allDropdownBox_2[i].querySelectorAll('li')) {
                            allDropdownBox_2[i].querySelectorAll('li').forEach(li => {
                                if (li.hasAttribute('style')) {
                                    li.removeAttribute('style');
                                }
                            });
                        }
                    }

                    // Empty duplicate table body function
                    // let newProduct_table = copy_product.querySelector(`table`)
                    // console.log("newProduct_table", `#product_table_${productCount}`, newProduct_table.children[1]);
                    // if (newProduct_table.children[1].children) {
                    //     console.log("children heee");
                    //     newProduct_table.children[1].innerText = "";
                    // }


                    copy_product.setAttribute("class", 'pt-5');



                    var innerIDs = [];

                    function collectInnerIDs(element) {


                        if (element.id) {
                            let value = productCount - 1;
                            element.id = element.id + "_" + productCount;
                        }
                        if (element.hasAttribute("onchange")) {
                            let onchangeIS = element.getAttribute("onchange");
                            var onchangeParts = onchangeIS.split('this');
                            element.setAttribute("onchange", onchangeParts[0] + 'this, ' + productCount + ')');
                        }
                        if (element.hasAttribute("for")) {
                            let prev = element.getAttribute("for");
                            let newe = prev + '_' + productCount;
                            element.setAttribute("for", newe);

                        }
                        if (element.hasAttribute("onclick")) {
                            let onchangeIS = element.getAttribute("onclick");
                            var onclickParts = onchangeIS.split(',' || ' ');
                            if (onclickParts[0] == "save_varient(this" || onclickParts[0] == "mula(this" || onclickParts[0] == "selectOption(this" || onclickParts[0] == "showContentDropdown(0" || onclickParts[0] == "showContentDropdown(1" || onclickParts[0] == "showContentDropdown(1000" || onclickParts[0] == "table_content_dropdown_add(this" || onclickParts[0] == "deleteTableContent(this" || onclickParts[0] == "dynamicDropdown(this") {
                                element.setAttribute("onclick", onclickParts[0] + ', ' + productCount + ')');
                            }
                        }

                        for (var i = 0; i < element.children.length; i++) {
                            collectInnerIDs(element.children[i]);
                        }
                    }

                    collectInnerIDs(copy_product);

                    // remove Table of contents for your product
                    // let table_content_dropdown_box_2 = copy_product.querySelector(`#table_content_dropdown_box_${productCount}`);
                    // console.log('table_content_dropdown_box_2.children[0]', `#table_content_dropdown_box_${productCount}`, table_content_dropdown_box_2);
                    // const first_table_content_dropdown = table_content_dropdown_box_2.children[0];

                    // table_content_dropdown_box_2.innerText = '';
                    // table_content_dropdown_box_2.append(first_table_content_dropdown)



                    let parent = document.getElementById(parent_block);
                    parent.append(copy_product);
                    let varient_container = document.getElementById(`varient_container__${productCount}`).parentNode.children[2]
                    let newVarientBtn = varient_container.querySelector(".addVarientSpan")
                    newVarientBtn.setAttribute("data-bs-target", `#addVarientModal_${productCount}`);
                }
            </script>


            <!-- Jquery Min JS -->
            <!-- <script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script> -->
            <script src="/assets/js/others/jquery.min.js"></script>
            <script src="/assets/js/others/inventory.js"></script>
            <!-- Bootstrap Bundle Min JS -->
            <script src="/assets/js/others/bootstrap.bundle.min.js"></script>

            <!-- select2 js file -->
            <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

            <script id="select2_script">
                // let forColorVariant;
                // let forSizeVariant;
                // const dynamicDropdown = (tag, num) =>{
                //     if (num) {
                //         let addProduct1Color = tag.previousSibling.id;
                //         forColorVariant = addProduct1Color;
                //         console.log('addProduct1', addProduct1Color);
                //     }
                //     else{
                //         let addProduct1Color = tag.previousSibling.id;
                //         forColorVariant = addProduct1Color;
                //     }
                //     // let parent = tag.parentNode
                //     console.log("tag is = ", parent, tag, num);
                // }
                // console.log("forColorVariant", forColorVariant);
                // let addProduct1 = document.getElementById('addProduct1');
                // let addProduct1Color = addProduct1.lastChild.previousSibling;
                // if ( !addProduct1Color.hasAttribute("onclick")) {
                // addProduct1Color.setAttribute("onclick", "dynamicDropdown(this, null)")

                // }
                // console.log('addProduct1', addProduct1, addProduct1Color);




                // const dynamicDropdown = (tag, num) =>{
                //     console.log("tag is the =", tag);
                //     let forColorVariant;
                //     let forSizeVariant;

                //     if (num) {
                //         let addProduct1Color = tag.id;
                //         forColorVariant = addProduct1Color;
                //         console.log('id is here 1', addProduct1Color);
                //     }
                //     else{
                //         let addProduct1Color = tag.id;
                //         forColorVariant = addProduct1Color;
                //         console.log('id is here 2', addProduct1Color);
                //     }
                //     console.log('forColorVariant',forColorVariant);
                // }

                $(document).ready(function () {
                    // Target the select element with its ID "color_variant"
                    var selectElement = $(`#color_variant`);
                    // Set the desired padding value (e.g., 10 pixels)
                    var paddingValue = "10px";
                    // Set the padding using jQuery's css() method
                    selectElement.css("padding", paddingValue);
                });

                $(`#color_variant`).select2({
                    tags: true,
                    tokenSeparators: [',', ' '],
                    dropdownParent: $('#addProduct1'),
                    placeholder: "Select Product Color",
                    allowClear: true
                });
                $("#size_variant").select2({
                    tags: true,
                    tokenSeparators: [',', ' '],
                    dropdownParent: $('#addProduct2'),
                    placeholder: "Select Product Size",
                    allowClear: true
                });

                $("#custom_variant").select2({
                    tags: true,
                    tokenSeparators: [',', ' '],
                    dropdownParent: $('#addProduct3'),
                    placeholder: "Select Product Attributes",
                    allowClear: true
                });
                // $(".my-select2").select2({
                //     tags: true,
                //     tokenSeparators: [',', ' '],
                //     dropdownParent: $('.addProduct___'),
                //     placeholder: "Select Product Attributes",
                //     allowClear: true
                // });


                // dynamicDropdown(addProduct1Color, null)
            </script>
            <script>
                //     const dynamicDropdown = (tag, num) =>{
                //         let forColorVariant;
                //         let forSizeVariant;
                //         if (num) {
                //             let addProduct1Color = tag.previousSibling.id;
                //             forColorVariant = addProduct1Color;
                //             console.log('addProduct1', addProduct1Color);
                //         }
                //         else
                //             break
                //             // let addProduct1Color = tag.previousSibling.id;
                //             // forColorVariant = addProduct1Color;
                //         // }
                //         // let parent = tag.parentNode
                //         console.log("tag is = ", tag, num);

                //     console.log("forColorVariant", forColorVariant);

                //     $(document).ready(function() {
                //         // Target the select element with its ID "color_variant"
                //         var selectElement = $(`#${forColorVariant}`);
                //         // Set the desired padding value (e.g., 10 pixels)
                //         var paddingValue = "10px";
                //         // Set the padding using jQuery's css() method
                //         selectElement.css("padding", paddingValue);
                //     });

                //     $(`#${forColorVariant}`).select2({
                //         tags: true,
                //         tokenSeparators: [',', ' '],
                //         dropdownParent: $('#addProduct1'),
                //         placeholder: "Select Product Color",
                //         allowClear: true
                //     });
                //     $("#size_variant").select2({
                //         tags: true,
                //         tokenSeparators: [',', ' '],
                //         dropdownParent: $('#addProduct2'),
                //         placeholder: "Select Product Size",
                //         allowClear: true
                //     });

                //     $("#custom_variant").select2({
                //         tags: true,
                //         tokenSeparators: [',', ' '],
                //         dropdownParent: $('#addProduct3'),
                //         placeholder: "Select Product Attributes",
                //         allowClear: true
                //     });
                //     // $(".my-select2").select2({
                //     //     tags: true,
                //     //     tokenSeparators: [',', ' '],
                //     //     dropdownParent: $('.addProduct___'),
                //     //     placeholder: "Select Product Attributes",
                //     //     allowClear: true
                //     // });
                // }
            </script>

            <script>
                let ulTag;
                let input;
                let dropdownBox;
                let varientRemove = 0;

                let tags = [];
                let colorTags = [];
                let SizeTags = [];

                let oldColorDropdown = '';
                let dropdownOldTag = ''
                const showColorDropDown = (tag) => {
                    dropdownBox = tag.parentNode.children[1];
                    ulTag = tag;
                    if (oldColorDropdown && !oldColorDropdown.classList.contains('d-none') && dropdownOldTag != tag) {
                        console.log("inside the if conditon ", oldColorDropdown, !oldColorDropdown.classList.contains('d-none'));
                        oldColorDropdown.classList.add('d-none');
                    }

                    input = tag.querySelector("input");
                    dropdownBox.classList.toggle("d-none");
                    dropdownOldTag = tag;
                    oldColorDropdown = dropdownBox;
                }
                const showVarientBox = (tag) => {
                    ulTag = tag;
                    console.log("remove tag from show varient");
                    varientRemove = 1;
                    input = tag.querySelector("input");
                }


                const getValueFronDropDown = (tag) => {
                    ulTag = tag.parentNode.parentNode.parentNode.children[0];
                    let value = tag.innerText;
                    let li = ulTag.children.length
                    tags = [];
                    if (ulTag.children.length > 1) {
                        ulTag.querySelectorAll("li").forEach(li => {
                            tags.push(li.innerText)
                        });
                    }
                    tags.push(value);
                    createTag(ulTag);
                    tag.style.backgroundColor = "#f0f0f0"
                    tag.style.color = "#888"
                    tag.style.cursor = "not-allowed";
                    tag.style.pointerEvents = "none"
                    dropdownBox.classList.add("d-none");
                }



                function createTag(ulTag) {
                    ulTag.querySelectorAll("li").forEach(li => li.remove());
                    tags.slice().reverse().forEach(tag => {
                        let liTag = `<li>${tag} <i class="fa-solid fa-xmark" onclick="remove(this, '${tag}')"></i></li>`;
                        ulTag.insertAdjacentHTML("afterbegin", liTag);
                    });

                }
                const enableLiTag = (tag, value) => {
                    console.log("test space value == ", `"${value}"`);
                    let liText = "";
                    if (value.endsWith(" ")) {
                        value = value.slice(0, -1);
                    }
                    console.log("test space liText == ", tag, `'${value}'`);
                    let dropdownLi = tag.querySelectorAll("li");
                    $(dropdownLi).each(function (index, element) {
                        if (element.innerText.endsWith(" ")) {
                            let elementInnerText = element.innerText.slice(0, -1);
                            if (elementInnerText == value) {
                                element.style.removeProperty("background-color");
                                element.style.removeProperty("color");
                                element.style.removeProperty("cursor");
                                element.style.removeProperty("pointer-events");
                            }
                        } else {
                            if (element.innerText == value) {
                                element.style.removeProperty("background-color");
                                element.style.removeProperty("color");
                                element.style.removeProperty("cursor");
                                element.style.removeProperty("pointer-events");

                            }
                        }




                    })
                }

                function remove(element, tag) {
                    // if (varientRemove == 1) {
                    //     let index  = tags.indexOf(tag);
                    //     tags = [...tags.slice(0, index), ...tags.slice(index + 1)];
                    //     element.parentElement.remove();
                    //     varientRemove = 0;
                    // }
                    // else{
                    let dropdownUl = element.parentNode.parentNode.parentNode.children[1].children[0];
                    enableLiTag(dropdownUl, tag);

                    let index = tags.indexOf(tag);
                    tags = [...tags.slice(0, index), ...tags.slice(index + 1)];
                    element.parentElement.remove();
                    // }
                }

                function addTag(e) {
                    let inputParent = e.target.parentNode;
                    let allInput = inputParent.querySelectorAll("input")
                    for (let i = 0; i < allInput.length; i++) {
                        if (allInput[i].classList.contains('tagIntpus')) {
                            if (e.key == "Enter" || e.keyCode == 32) {
                                if (dropdownBox) {
                                    dropdownBox.classList.add("d-none");
                                }

                                tags = [];
                                let tag = e.target.value.replace(/\s+/g, ' ');
                                let allText = e.target.value.replace(/\s+/g, ' ');
                                if (tag.length > 1 && !tags.includes(tag)) {
                                    console.log("tag tag ", ulTag);
                                    if (tags.length < 10) {
                                        if (ulTag.children.length > 1) {
                                            ulTag.querySelectorAll("li").forEach(li => {
                                                li = li.innerText.split(" ")
                                                tags.push(li[0])
                                            });
                                        }
                                        tag.split(',' || " ").forEach(tag => {

                                            tag = tag.split(' ');
                                            if (!tags.includes(tag[0])) {
                                                tags.push(tag[0])
                                            }

                                            else {
                                                e.target.value = "";
                                            }
                                            console.log("log from split = ", tags, tag);
                                            createTag(ulTag);
                                        });
                                    }
                                }
                                e.target.value = "";
                            }
                        }

                    }
                }
                document.addEventListener("keyup", addTag)
            </script>

            <script>
                const pageNotReload = (e) => {
                    e.preventDefault();
                }
             </script>

</body>

</html>